<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

<link rel = "stylesheet" href = "../css/public.css">
<link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">

<style>
table{
border : 2px solid skyblue;
}
td{
width : auto;
height: auto;
text-align: center;
padding : 20px;
}
.ttr{
background: skyblue;
}

</style>
<script>
$(function(){
	$('#btn1').on('click',function(){
		//ajax({})로 변환
		$.ajax({

			url : '../0520/member.jsp',
			type : 'get',
// 			data : "id="+idvalue,//데이터 없으면 생략
			success : function(res){
				
				code = "<table border='1'>";
				code += "<tr class = 'ttr'><td>아이디</td>";
				code += "<td>이름</td><td>이메일</td>";
				code += "<td>주소</td><td>생일</td>"
				code += "<td>전화번호</td></tr>";
				$.each(res,function(i){
					
					code +="<tr><td>" + res[i].id + "</td>";
					code +="<td>" + res[i].name + "</td><td>" + res[i].mail + "</td>";
					code +="<td>" + res[i].addr + "</td><td>" + res[i].bir + "</td>";
					code +="<td>" + res[i].hp + "</td></tr>";
					
				})
				code+="</table>"
				$('#d1').html(code);
				
				
			},
			error : function(xhr){
				alert('상태 : '+xhr.status);	//200(응답은 성공했지만, json형식이 오류됐다는 뜻.=> parsing이 되지 않았다..jsp다시 확인해봐라...), 500(이클립스의 콘솔창 확인), 404이런거....
			},
			dataType : 'json'//res = JSON.parse(this.responseText);이걸 json에서는 이렇게 쓰는거다.
			
		})
	})
})
</script>

</head>
<body>



<pre></pre>
<input type="button" value="memberList" id = "btn1">
<br><br>
<div id = "d1"></div>
</body>
</html>
